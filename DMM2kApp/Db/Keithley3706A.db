grecord(stringin,"$(P)$(Dmm)model") {
	field(VAL,"2000")
}
grecord(ai,"$(P)$(Dmm)channels") {
	field(VAL,"10")
}
grecord(bo,"$(P)$(Dmm)init_dmm") {
}

grecord(stringout,"$(P)$(Dmm)reset") {
	field(DTYP,"asyn so stringParm")
	field(VAL,"reset()")
	field(OUT,"@asyn($(PORT))TERM=0a")
}
grecord(stringout,"$(P)$(Dmm)setconfig") {
	field(DTYP,"asyn so stringParm")
	field(VAL,"dmm.setconfig('1001:1060','dcvolts')")
	field(OUT,"@asyn($(PORT))TERM=0a")
}

grecord(stringout,"$(P)$(Dmm)init_string") {
	field(DTYP,"asyn so stringParm")
	field(VAL,"reset()")
	field(OUT,"@asyn($(PORT))TERM=0a")
}

grecord(stringout,"$(P)$(Dmm)conf_str") {
	field(DTYP,"asyn so stringParm")
	field(VAL,"dmm.setconfig('1001:1060','dcvolts')")
	field(OUT,"@asyn($(PORT))TERM=0a")
}
grecord(sseq,"$(P)$(Dmm)doReset") {
	field(STR1, "reset()")
	field(LNK1, "$(P)$(Dmm)reset CA")
	field(WAIT1, "Wait")
	field(STR2, "dmm.setconfig('1001:1060','dcvolts')")
	field(LNK2, "$(P)$(Dmm)setconfig CA")
	field(WAIT2, "Wait")
}

grecord(sseq,"$(P)$(Dmm)initScan1") {
	field(STR1, "reset()")
	field(LNK1, "$(P)$(Dmm)conf_str CA")
	field(WAIT1, "Wait")
	field(STR2, "dmm.setconfig('1001:1060','dcvolts')")
	field(LNK2, "$(P)$(Dmm)conf_str CA")
	field(WAIT2, "Wait")
	field(FLNK, "$(P)$(Dmm)initScan2")
}
grecord(sseq,"$(P)$(Dmm)initScan2") {
	field(STR1, "reset()")
	field(LNK1, "$(P)$(Dmm)conf_str CA")
	field(WAIT1, "Wait")
	field(STR2, "dmm.setconfig('1001:1050','dcvolts')")
	field(LNK2, "$(P)$(Dmm)conf_str CA")
	field(WAIT2, "Wait")
	field(FLNK, "$(P)$(Dmm)initScan3")
}
grecord(sseq,"$(P)$(Dmm)initScan3") {
	field(STR1, "reset()")
	field(LNK1, "$(P)$(Dmm)conf_str CA")
	field(WAIT1, "Wait")
	field(STR2, "dmm.setconfig('1001:1050','dcvolts')")
	field(LNK2, "$(P)$(Dmm)conf_str CA")
	field(WAIT2, "Wait")
}

grecord(sseq,"$(P)$(Dmm)initScan") {
	field(DO1, "1")
	field(LNK1, "$(P)$(Dmm)initScan1.PROC CA")
	field(WAIT1, "Wait")
	field(DO2, "1")
	field(LNK2, "$(P)$(Dmm)initScan2.PROC CA")
	field(WAIT2, "Wait")
	field(DO3, "1")
	field(LNK3, "$(P)$(Dmm)initScan3.PROC CA")
	field(WAIT3, "Wait")
}

#grecord(sseq,"$(P)$(Dmm)slots") {
#	field(DOL1, "$(P)$(Dmm)general_input")
#	field(STR1, "print (slot[1].idn)")
#	field(LNK1, "$(P)$(Dmm)general_input CA")
#	field(WAIT1, "Wait")
#	field(DOL2, "$(P)$(Dmm)dmm_get_str.VAL")
#	field(STR2, "1")
#	field(LNK2, "$(P)$(Dmm)slot1")
#	field(WAIT2, "Wait")
#}

#grecord(stringin,"$(P)$(Dmm)slot1") {
#	field(DTYP,"asyn si stringParm")
#	field(INP,"@asyn($(PORT))TERM=0a,TO=10000")
#	field(FLNK,"$(P)$(Dmm)read_finished.VAL  PP MS")
#}

#record(sseq, "$(P)$(Dmm)doReset") {
#  field(DOL1, "$(P)$(Dmm)init_string NPP MS")
#  field(LNK1, "$(P)$(Dmm)init_string2 NPP MS")
#}

#record(sseq, "doReset") {
#field(STR1, "Read")
#field(LNK1, "asynrecord.TMOD")

#field(STR2, "*RST")
#field(LNK2, "asynrecord.AOUT CA")
#field(WAIT2, "Wait")

#field(STR3, ":SOUR:FUNC VOLT")
#field(LNK3, "asynrecord.AOUT CA")
#field(WAIT3, "Wait")
#...
#field(STR7, ":OUTP ON")
#field(LNK7, "asynrecord.AOUT CA")
#field(WAIT7, "Wait")

#field(STR8, "Write/Read")
#field(LNK8, "asynrecord.TMOD")

#field(STR9, ":READ?")
#field(LNK9, "asynrecord.AOUT CA")
#field(WAIT9, "Wait")
#}

grecord(bo,"$(P)$(Dmm)done_read") {
	field(ZNAM,"DONE")
	field(ONAM,"READ")
}
grecord(bo,"$(P)$(Dmm)scanner") {
        field(VAL, "1")
	field(OUT,"$(P)$(Dmm)done_read.VAL  PP MS")
}
grecord(bo,"$(P)$(Dmm)onesh_cont") {
	field(OUT,"$(P)$(Dmm)scanner.SCAN  NPP NMS")
	field(ZNAM,"ONE SH.")
	field(ONAM,"CONT.")
}
grecord(bo,"$(P)$(Dmm)single_multi") {
	field(ZNAM,"SINGLE")
	field(ONAM,"MULT.")
}
grecord(bo,"$(P)$(Dmm)Dmm_on_off") {
	field(ZNAM,"ON")
	field(ONAM,"OFF")
}

grecord(bo,"$(P)$(Dmm)Ch$(CH)_on_off") {
	field(ZNAM,"ON")
	field(ONAM,"OFF")
}

grecord(calc,"$(P)$(Dmm)Dmm_raw") {
	field(DESC,"Dmm raw desc")
	field(FLNK,"$(P)$(Dmm)Dmm_calc  PP MS")
	field(CALC,"A*1.0")
	field(INPA,"$(P)$(Dmm)dmm_get_str.VAL  NPP NMS")
	field(PREC,"4")
}
grecord(calcout,"$(P)$(Dmm)Dmm_calc") {
	field(DESC,"Dmm Units")
	field(CALC,"A")
	field(INPA,"$(P)$(Dmm)Dmm_raw.VAL  NPP NMS")
	field(PREC,"4")
}

grecord(calc,"$(P)$(Dmm)Ch$(CH)_raw") {
	field(DESC,"Ch$(CH) desc")
	field(FLNK,"$(P)$(Dmm)Ch$(CH)_calc  PP MS")
	field(CALC,"A*1.0")
	field(INPA,"$(P)$(Dmm)dmm_get_str.VAL  NPP NMS")
	field(PREC,"4")
}
grecord(calcout,"$(P)$(Dmm)Ch$(CH)_calc") {
	field(DESC,"Ch$(CH) Units")
	field(CALC,"A")
	field(INPA,"$(P)$(Dmm)Ch$(CH)_raw.VAL  NPP NMS")
	field(PREC,"4")
}
grecord(mbbo,"$(P)$(Dmm)ch_mode_sel") {
	field(ZRST,"V DC")
	field(ONST,"V AC")
	field(TWST,"OHM 2W")
	field(THST,"OHM 4W")
	field(FRST,"FREQ")
	field(FVST,"TEMP J")
	field(SXST,"TEMP K")
	field(SVST,"TEMP N")
	field(EIST,"TEMP T")
	field(NIST,"TEMP E")
	field(TEST,"TEMP R")
	field(ELST,"TEMP S")
	field(TVST,"TEMP B")
	field(TTST,"A DC")
	field(FTST,"A AC")
}
grecord(mbbo,"$(P)$(Dmm)ch$(CH)_mode_sel") {
	field(ZRST,"V DC")
	field(ONST,"V AC")
	field(TWST,"OHM 2W")
	field(THST,"OHM 4W")
	field(FRST,"FREQ")
	field(FVST,"TEMP J")
	field(SXST,"TEMP K")
	field(SVST,"TEMP N")
	field(EIST,"TEMP T")
	field(NIST,"TEMP E")
	field(TEST,"TEMP R")
	field(ELST,"TEMP S")
	field(TVST,"TEMP B")
	field(TTST,"A DC")
	field(FTST,"A AC")
}

grecord(mbbo,"$(P)$(Dmm)dmm_chan") {
	field(PINI,"YES")
	field(ZRST,"Ch1")
	field(ONST,"Ch2")
	field(TWST,"Ch3")
	field(THST,"Ch4")
	field(FRST,"Ch5")
	field(FVST,"Ch6")
	field(SXST,"Ch7")
	field(SVST,"Ch8")
	field(EIST,"Ch9")
	field(NIST,"Ch10")
}
grecord(mbbo,"$(P)$(Dmm)dmm_chan2") {
	field(ZRST,"Ch11")
	field(ONST,"Ch12")
	field(TWST,"Ch13")
	field(THST,"Ch14")
	field(FRST,"Ch15")
	field(FVST,"Ch16")
	field(SXST,"Ch17")
	field(SVST,"Ch18")
	field(EIST,"Ch19")
	field(NIST,"Ch20")
}
grecord(mbbo,"$(P)$(Dmm)dmm_chan3") {
	field(ZRST,"Ch21")
	field(ONST,"Ch22")
	field(TWST,"Ch23")
	field(THST,"Ch24")
	field(FRST,"Ch25")
	field(FVST,"Ch26")
	field(SXST,"Ch27")
	field(SVST,"Ch28")
	field(EIST,"Ch29")
	field(NIST,"Ch30")
}
grecord(mbbo,"$(P)$(Dmm)dmm_chan4") {
	field(ZRST,"Ch31")
	field(ONST,"Ch32")
	field(TWST,"Ch33")
	field(THST,"Ch34")
	field(FRST,"Ch35")
	field(FVST,"Ch36")
	field(SXST,"Ch37")
	field(SVST,"Ch38")
	field(EIST,"Ch39")
	field(NIST,"Ch40")
}
grecord(mbbo,"$(P)$(Dmm)dmm_chan5") {
	field(ZRST,"Ch41")
	field(ONST,"Ch42")
	field(TWST,"Ch43")
	field(THST,"Ch44")
	field(FRST,"Ch45")
	field(FVST,"Ch46")
	field(SXST,"Ch47")
	field(SVST,"Ch48")
	field(EIST,"Ch49")
	field(NIST,"Ch50")
}
grecord(mbbo,"$(P)$(Dmm)dmm_chan6") {
	field(ZRST,"Ch51")
	field(ONST,"Ch52")
	field(TWST,"Ch53")
	field(THST,"Ch54")
	field(FRST,"Ch55")
	field(FVST,"Ch56")
	field(SXST,"Ch57")
	field(SVST,"Ch58")
	field(EIST,"Ch59")
	field(NIST,"Ch60")
}
grecord(mbbo,"$(P)$(Dmm)dmm_ch_range") {
	field(ZRST,"1-10")
	field(ONST,"11-20")
	field(TWST,"21-30")
	field(THST,"31-40")
	field(FRST,"41-50")
	field(FVST,"51-60")
}

grecord(stringin,"$(P)$(Dmm)units") {
	field(VAL,"VDC")
}
grecord(stringin,"$(P)$(Dmm)ch$(CH)_units") {
	field(VAL,"VDC")
}

grecord(seq,"$(P)$(Dmm)dmm_delay_read") {
        field(DLY1, "0.1")
        field(DOL1,"1")
        field(LNK1,"$(P)$(Dmm)dmm_read.PROC  PP MS")
}
grecord(stringout,"$(P)$(Dmm)dmm_read") {
	field(DTYP,"asyn so stringParm")
	field(FLNK,"$(P)$(Dmm)dmm_get_str.VAL  PP MS")
	field(VAL,"print(dmm.measure())")
	field(OUT,"@asyn($(PORT))TERM=0a")
}
grecord(stringin,"$(P)$(Dmm)dmm_get_str") {
	field(DTYP,"asyn si stringParm")
	field(INP,"@asyn($(PORT))TERM=0a,TO=10000")
	field(FLNK,"$(P)$(Dmm)read_finished.VAL  PP MS")
}
grecord(bo,"$(P)$(Dmm)read_finished") {
        field(VAL, "1")
	field(OUT,"$(P)$(Dmm)read_complete.VAL  PP MS")
}
grecord(bo,"$(P)$(Dmm)read_complete") {
	field(ZNAM,"READING")
	field(ONAM,"DONE")
}
grecord(stringout,"$(P)$(Dmm)general_input") {
	field(DTYP,"asyn so stringParm")
	field(FLNK,"$(P)$(Dmm)dmm_get_str.VAL  PP MS")
	field(VAL,"reset()")
	field(OUT,"@asyn($(PORT))TERM=0a")
}
grecord(stringout,"$(P)$(Dmm)ch_close") {
	field(DTYP,"asyn so stringParm")
	field(OUT,"@asyn($(PORT))TERM=0a")
}
grecord(stringout,"$(P)$(Dmm)conf_dcv") {
	field(DTYP,"asyn so stringParm")
	field(VAL,"dmm.func='dcvolts'")
	field(OUT,"@asyn($(PORT))TERM=0a")
}
grecord(stringout,"$(P)$(Dmm)conf_acv") {
	field(DTYP,"asyn so stringParm")
	field(VAL,"dmm.func='acvolts'")
	field(OUT,"@asyn($(PORT))TERM=0a")
}
grecord(stringout,"$(P)$(Dmm)conf_dci") {
	field(DTYP,"asyn so stringParm")
	field(VAL,"dmm.func='dccurrent'")
	field(OUT,"@asyn($(PORT))TERM=0a")
}
grecord(stringout,"$(P)$(Dmm)conf_aci") {
	field(DTYP,"asyn so stringParm")
	field(VAL,"dmm.func='accurrent'")
	field(OUT,"@asyn($(PORT))TERM=0a")
}
grecord(stringout,"$(P)$(Dmm)conf_ohm4w") {
	field(DTYP,"asyn so stringParm")
	field(VAL,"dmm.func='fourwireohms'")
	field(OUT,"@asyn($(PORT))TERM=0a")
}
grecord(stringout,"$(P)$(Dmm)conf_ohm2w") {
	field(DTYP,"asyn so stringParm")
	field(VAL,"dmm.func='twowireohms'")
	field(OUT,"@asyn($(PORT))TERM=0a")
}
grecord(stringout,"$(P)$(Dmm)conf_freq") {
	field(DTYP,"asyn so stringParm")
	field(VAL,"dmm.func='frequency'")
	field(OUT,"@asyn($(PORT))TERM=0a")
}
grecord(stringout,"$(P)$(Dmm)conf_tempj") {
	field(DTYP,"asyn so stringParm")
	field(VAL,"dmm.func='temperature'")
	field(OUT,"@asyn($(PORT))TERM=0a")
}
grecord(stringout,"$(P)$(Dmm)conf_tempk") {
	field(DTYP,"asyn so stringParm")
	field(VAL,"dmm.func='temperature'")
	field(OUT,"@asyn($(PORT))TERM=0a")
}
grecord(stringout,"$(P)$(Dmm)conf_tempn") {
	field(DTYP,"asyn so stringParm")
	field(VAL,"dmm.func='temperature'")
	field(OUT,"@asyn($(PORT))TERM=0a")
}

grecord(stringout,"$(P)$(Dmm)conf_tempt") {
	field(DTYP,"asyn so stringParm")
	field(VAL,"dmm.func='temperature'")
	field(OUT,"@asyn($(PORT))TERM=0a")
}

grecord(stringout,"$(P)$(Dmm)conf_tempe") {
	field(DTYP,"asyn so stringParm")
	field(VAL,"dmm.func='temperature'")
	field(OUT,"@asyn($(PORT))TERM=0a")
}

grecord(stringout,"$(P)$(Dmm)conf_tempr") {
	field(DTYP,"asyn so stringParm")
	field(VAL,"dmm.func='temperature'")
	field(OUT,"@asyn($(PORT))TERM=0a")
}
grecord(stringout,"$(P)$(Dmm)conf_temps") {
	field(DTYP,"asyn so stringParm")
	field(VAL,"dmm.func='temperature'")
	field(OUT,"@asyn($(PORT))TERM=0a")
}
grecord(stringout,"$(P)$(Dmm)conf_tempb") {
	field(DTYP,"asyn so stringParm")
	field(VAL,"dmm.func='temperature'")
	field(OUT,"@asyn($(PORT))TERM=0a")
}
